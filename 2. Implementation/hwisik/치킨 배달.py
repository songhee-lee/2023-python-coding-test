'''
[μ΅°κ±΄]
- 2 <= N <= 50, 1 <= M <= 13 (Mμ€ νμ—…μ‹ν‚¤μ§€ μ•μ„ μΉν‚¨μ§‘μ„ μ„ νƒν•  κ°μ)
- 0 : λΉμΉΈ / 1 : μ§‘ / 2 : μΉν‚¨μ§‘
- M <= μΉν‚¨μ§‘μ κ°μ <= 13
- "μΉν‚¨ κ±°λ¦¬" : μ§‘κ³Ό κ°€μ¥ κ°€κΉμ΄ μΉν‚¨μ§‘ μ‚¬μ΄μ κ±°λ¦¬
- "λ„μ‹μ μΉν‚¨ κ±°λ¦¬" : λ¨λ“  μ§‘μ μΉν‚¨ κ±°λ¦¬μ ν•©
- μΉν‚¨ κ±°λ¦¬ != λ„μ‹μ μΉν‚¨ κ±°λ¦¬
- "return λ„μ‹μ μΉν‚¨ κ±°λ¦¬μ μµμ†κ°’"π‘

Flowβ…
1. λ¨Όμ €, νμ—…μ‹ν‚¤μ§€ μ•μ„ μΉν‚¨μ§‘μ„ μ„ νƒν•λ‹¤.(Mλ¶€ν„° 1κΉμ§€ => 0κΉμ§€κ°€ μ•„λ‹ μ΄μ λ”, μΉν‚¨μ§‘μ„ κ³ λ¥΄μ§€ μ•μΌλ©΄ μ•λκΈ° λ•λ¬Έ and '1 <= M <= 13') => μ΅°ν•©μΌλ΅ μΉν‚¨μ§‘ μ„ νƒ?
2. (1)μ—μ„ κµ¬ν• μΉν‚¨μ§‘ λ“¤μ μ„μΉλ¥Ό ν† λ€λ΅, κ° μ§‘μ—μ„ μµμ† μΉν‚¨κ±°λ¦¬λ¥Ό μ°Ύλ”λ‹¤.
3. (2)μ—μ„ κµ¬ν• κ° μ§‘μ—μ„μ μµμ† μΉν‚¨ κ±°λ¦¬μ ν•©μ΄ λ„μ‹μ μΉν‚¨ κ±°λ¦¬λ³΄λ‹¤ μ‘μΌλ©΄, λ„μ‹μ μΉν‚¨ κ±°λ¦¬μ κ°’μ„ ν•΄λ‹Ή κ°’μΌλ΅ μ—…λ°μ΄νΈν•λ‹¤.
4. λ¨λ“  μ΅°ν•©μ„ μνν•  λ• κΉμ§€ (1)λ΅ λμ•„κ°€ λ°λ³µν•λ‹¤.
'''
import sys
from collections import deque
from itertools import combinations

n, m = map(int, sys.stdin.readline().split()) # n : λ„μ‹ ν¬κΈ°, m : μ„ νƒν•  μΉν‚¨ μ§‘ κ°μ

city = [] # λ„μ‹ μ •λ³΄
for _ in range(n):
    data = list(map(int, sys.stdin.readline().split())) # λ„μ‹ μ •λ³΄ μ…λ ¥λ°›κΈ°
    city.append(data)

chicken_pos = deque() # λ¨λ“  μΉν‚¨ μ§‘ μ„μΉ μ €μ¥ν•λ” λ³€μ
for i in range(n):
    for j in range(n):
        if city[i][j] == 2: # μΉν‚¨μ§‘ : 2
            chicken_pos.append((i, j)) 

# comb : λ¨λ“  μΉν‚¨ μ§‘μ μ„μΉμ—μ„ νΉμ • κ°μλ§νΌ μΉν‚¨ μ§‘μ„ μ„ νƒν–μ„ λ• λ§λ“¤ μ μλ” μ΅°ν•©
# x, y : μ§‘μ μ„μΉ
def get_min_dist(comb, x, y): # νΉμ • μ§‘μ—μ„ μΉν‚¨ μ§‘μΌλ΅λ¶€ν„° μµμ† κ±°λ¦¬ μ°Ύλ” ν•¨μ
    min_dist = float('inf') # μµμ† κ±°λ¦¬
    for c_x, c_y in comb:
        min_dist = min(min_dist, abs(x - c_x) + abs(y - c_y))
    return min_dist 

count = m # μΉν‚¨ μ§‘μ„ λ‡ κ° κ³ λ¥Όμ§€(μΉν‚¨ μ§‘ κ³ λ¥΄λ” νμ)
total_min_dist = float('inf') # λ„μ‹μ μΉν‚¨ κ±°λ¦¬ μµμ†κ°’ μ €μ¥ν•λ” λ³€μ

while count != 0: # μΉν‚¨ μ§‘μ„ 1κ° μ΄μƒμ€ λ¬΄μ΅°κ±΄ κ³ λ¥Έλ‹¤.
    
    chicken_comb = list(combinations(chicken_pos, count)) # μΉν‚¨ μ§‘ μ„μΉλ¥Ό countκ° μ„ νƒν• μ΅°ν•© μƒμ„± => chicken_pos C count
    for comb in chicken_comb: # μ΅°ν•©μ„ ν•λ‚μ”© ν™•μΈ
        total_dist = 0 # κ° μνμ—μ„ λ„μ‹μ μΉν‚¨ κ±°λ¦¬
        for i in range(n): 
            for j in range(n):
                if city[i][j] == 1: # μ„μΉκ°€ μ§‘μ΄λΌλ©΄
                    total_dist += get_min_dist(comb, i, j) # μµμ† κ±°λ¦¬λ¥Ό μ°Ύμ•„μ„ λ”ν•λ‹¤.
        total_min_dist = min(total_min_dist, total_dist) # λ„μ‹μ μΉν‚¨ κ±°λ¦¬ μµμ†κ°’μ„ μ—…λ°μ΄νΈν•λ‹¤.
    count -= 1 # μΉν‚¨ μ§‘μ„ κ³ λ¥΄λ” νμλ¥Ό 1 μ°¨κ°ν•λ‹¤.

print(total_min_dist) # μ¶λ ¥